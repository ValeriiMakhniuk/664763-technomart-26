if(!document.querySelector("#catalog")){const a=document.querySelector(".services__accordeon");a.addEventListener("click",b=>{const c=a.querySelector("[aria-expanded=\"true\"]"),d=b.target,e="true"===d.getAttribute("aria-expanded");d.classList.contains("services__accordeon-item-trigger")&&(c&&d!==c&&(c.setAttribute("aria-expanded","false"),document.getElementById(c.getAttribute("aria-controls")).setAttribute("hidden",""),c.removeAttribute("aria-disabled")),e?"true"===!d.getAttribute("aria-disabled")&&(d.setAttribute("aria-expanded","false"),document.getElementById(d.getAttribute("aria-controls")).setAttribute("hidden","")):(d.setAttribute("aria-expanded","true"),document.getElementById(d.getAttribute("aria-controls")).removeAttribute("hidden"),d.setAttribute("aria-disabled","true")),b.preventDefault())});const b=document.querySelector(".about__contacts-btn"),c=document.querySelector(".about__contacts-dialog"),d=c.querySelector(".contacts__dialog-btn-close"),e=c.querySelector("[type='submit']"),f=c.querySelector("form"),g=c.querySelector("[name = name]"),h=c.querySelector("[name = email]"),i=c.querySelector("textarea");let j=!0,k="",l="";try{k=localStorage.getItem("name"),l=localStorage.getItem("email")}catch(a){j=!1}b.addEventListener("click",a=>{a.preventDefault(),c.classList.remove("visually-hidden"),c.classList.add("about__contacts-dialog_animate"),g.focus(),k&&(l?(h.value=l,i.focus()):h.focus(),g.value=k)}),d.addEventListener("click",a=>{a.preventDefault(),c.classList.add("visually-hidden"),c.classList.remove("about__contacts-dialog_animate"),c.classList.remove("about__contacts-dialog_animate_error")}),f.addEventListener("submit",a=>{g.value&&h.value&&i.value?j&&(localStorage.setItem("name",g.value),localStorage.setItem("email",h.value)):(a.preventDefault(),c.classList.remove("about__contacts-dialog_animate_error"),c.offsetWidth=c.offsetWidth,c.classList.add("about__contacts-dialog_animate_error"))}),window.addEventListener("keydown",a=>{27!==a.keyCode||c.classList.contains("visually-hidden")||(a.preventDefault(),c.classList.add("visually-hidden"),c.classList.remove("about__contacts-dialog_animate"),c.classList.remove("about__contacts-dialog_animate_error"))});const m=document.querySelector(".about__contacts-map"),n=document.querySelector(".dialog-map"),o=n.querySelector(".dialog-map__close-btn");m.addEventListener("click",a=>{a.preventDefault(),n.classList.remove("visually-hidden"),o.focus()}),o.addEventListener("click",a=>{a.preventDefault(),n.classList.contains("visually-hidden")||n.classList.add("visually-hidden")}),window.addEventListener("keydown",a=>{27!==a.keyCode||n.classList.contains("visually-hidden")||n.classList.add("visually-hidden")})}const productCards=document.querySelectorAll(".product-card"),buyDialog=document.querySelector(".dialog-buy"),confirmBtn=buyDialog.querySelector(".dialog-buy__confirm-btn"),closeBtn=buyDialog.querySelector(".dialog-buy__close-btn");for(let a=0;a<productCards.length;a+=1){const b=productCards[a].querySelector(".product-card__buy-btn");b.addEventListener("click",a=>{a.preventDefault(),buyDialog.classList.remove("visually-hidden"),confirmBtn.focus()})}closeBtn.addEventListener("click",a=>{a.preventDefault(),buyDialog.classList.contains("visually-hidden")||buyDialog.classList.add("visually-hidden")}),window.addEventListener("keydown",a=>{27!==a.keyCode||buyDialog.classList.contains("visually-hidden")||buyDialog.classList.add("visually-hidden")});
